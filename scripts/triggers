DROP TRIGGER [dbo].[Update_Status_On_User_Type]

CREATE TRIGGER [dbo].[Update_Status_On_User_Type]
ON [dbo].[User]
AFTER INSERT
AS
BEGIN
    -- Update the Status to 'approved' for new records where User_Type is 'Admin' or 'Applicant'
    UPDATE [dbo].[User]
    SET [Status] = 'approved'
    FROM [dbo].[User] u
    INNER JOIN inserted i ON u.User_ID = i.User_ID
    WHERE i.User_Type IN ('Admin', 'Applicant');
END
GO
